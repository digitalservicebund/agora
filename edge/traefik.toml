# [api]
	# debug = true

[log]
	filePath = "/var/log/traefik.log"
	format = "json"
	# level = "DEBUG"

[accessLog]
	filePath = "/var/log/traefik_access.log"
	format = "json"
	# [accessLog.fields]
	# 	defaultMode = "keep"
	# 	[accessLog.fields.headers]
	# 		defaultMode = "keep"

[entryPoints]
	[entryPoints.web]
		address = ":80"

		[entryPoints.web.http]
		  [entryPoints.web.http.redirections]
		    [entryPoints.web.http.redirections.entryPoint]
		    	to = "websecure"
		    	scheme = "https"

	[entryPoints.websecure]
		address = ":443"

[providers]
	[providers.docker]
		endpoint = "tcp://socket-proxy:2375"
		swarmMode = true
		watch = true
		exposedByDefault = false
		network = "edge"

	# middlewares
	[providers.file]
		filename = "/etc/traefik/dynamic.yml"

# Let's Encrypt 
[certificatesResolvers.myresolver.acme]
 email = "florian.zechmeister@4germany.org"
 storage = "letsencrypt/acme.json"
 [certificatesResolvers.myresolver.acme.httpChallenge]
   entryPoint = "web"